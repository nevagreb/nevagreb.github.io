<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Заявление о взыскании алиментов</title>

  <link rel="stylesheet" href="style.css">

</head>
<body>
    
<img src="family.jpg" alt="Баннер" class="hero-banner" loading="lazy">

<main class="container">
  <h1>Готовим заявление о взыскании алиментов</h1>
  <p class="lead">Пожалуйста заполните все необходимые поля для подачи заявления на взыскание алиментов.</p>

  <form id="alimonyForm">
      <!-- Имя -->
      <div>
        <label class="required" for="firstName">Ваше имя</label>
        <div class="grid-3">
          <div>
            <input type="text" id="firstName" name="firstName" placeholder="Имя" required>
            <small>Имя</small>
          </div>
          <div>
            <input type="text" id="middleName" name="middleName" placeholder="Отчество">
            <small>Отчество</small>
          </div>
          <div>
            <input type="text" id="lastName" name="lastName" placeholder="Фамилия" required>
            <small>Фамилия</small>
          </div>
        </div>
      </div>

      <!-- Дата рождения -->
      <div>
        <label class="required" for="birthDate">Дата рождения</label>
        <input type="date" id="birthDate" name="birthDate" placeholder="ДД.ММ.ГГГГ" required>
      </div>

      <!-- Место рождения -->
      <div>
        <label class="required">Ваше место рождения</label>
        <div class="grid-3">
          <div>
            <input type="text" name="city" placeholder="Город" required>
            <small>Город</small>
          </div>
          <div>
            <input type="text" name="region" placeholder="Область">
            <small>Область</small>
          </div>
          <div>
            <input type="text" name="country" placeholder="Страна" required>
            <small>Страна</small>
          </div>
        </div>
      </div>

      <!-- Идентификатор -->
      <fieldset>
        <legend>Идентификатор</legend>

        <div class="radio-group">
          <label><input type="radio" name="idType" value="snils" checked> СНИЛС</label>
          <label><input type="radio" name="idType" value="inn"> ИНН</label>
          <label><input type="radio" name="idType" value="passport"> серия и номер паспорта</label>
          <label><input type="radio" name="idType" value="driver"> серия и номер водительского удостоверения</label>
        </div>

        <div id="snilsFields" class="id-fields">
          <label for="snils" class="required">Ваш СНИЛС</label>
          <input type="text" id="snils" name="snils" placeholder="000-000-000 00" maxlength="14">
        </div>

        <div id="innFields" class="id-fields" hidden>
          <label for="inn" class="required">Ваш ИНН</label>
          <input type="text" id="inn" name="inn" placeholder="000000000000" pattern="\d{10}|\d{12}">
        </div>

        <div id="passportFields" class="id-fields" hidden>
          <label for="passport" class="required">Серия и номер паспорта</label>
          <input type="text" id="passport" name="passport" placeholder="0000 000000" pattern="\d{4} \d{6}">
        </div>

        <div id="driverFields" class="id-fields" hidden>
          <label for="driver" class="required">Серия и номер ВУ</label>
          <input type="text" id="driver" name="driver" placeholder="00 00 000000" pattern="\d{2} \d{2} \d{6}">
        </div>
      </fieldset>

      <!-- Адрес регистрации -->
      <div>
        <label class="required" for="regStreet">Ваш адрес регистрации</label>

        <div class="mb">
          <input type="text" id="regStreet" name="regStreet" placeholder="Улица, дом, квартира" required>
          <small>Улица, дом, квартира</small>
        </div>

        <div class="grid-3">
          <div>
            <input type="text" id="regCity" name="regCity" placeholder="Город" required>
            <small>Город</small>
          </div>
          <div>
            <input type="text" id="regPostal" name="regPostal" placeholder="Почтовый индекс" required>
            <small>Почтовый индекс</small>
          </div>
          <div>
            <input type="text" id="regCountry" name="regCountry" value="Россия" placeholder="Страна" required>
            <small>Страна</small>
          </div>
        </div>
      </div>

      <!-- Совпадает / не совпадает -->
      <fieldset>
        <legend>Адрес фактического проживания совпадает с адресом регистрации</legend>
        <div class="radio-group">
          <label><input type="radio" name="sameAddress" value="yes" checked> Да</label>
          <label><input type="radio" name="sameAddress" value="no"> Нет</label>
        </div>

        <!-- Фактический адрес -->
        <div id="factAddress" class="address-fields" hidden>
          <label class="required" for="factStreet">Ваш адрес фактического проживания</label>

          <div class="mb">
            <input type="text" id="factStreet" name="factStreet" placeholder="Улица, дом, квартира">
            <small>Улица, дом, квартира</small>
          </div>

          <div class="grid-3">
            <div>
              <input type="text" id="factCity" name="factCity" placeholder="Город">
              <small>Город</small>
            </div>
            <div>
              <input type="text" id="factPostal" name="factPostal" placeholder="Почтовый индекс">
              <small>Почтовый индекс</small>
            </div>
            <div>
                <input type="text" id="factCountry" name="factCountry" value="Россия" placeholder="Страна" required>
                <small>Страна</small>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- Контакты -->
      <div>
        <label class="required" for="phone">Ваш телефон</label>
        <input type="tel" id="phone" name="phone" placeholder="+7(000) 000-00-00" required>
        <small>Пожалуйста, введите действующий номер телефона.</small>
      </div>

      <div>
        <label for="email">Ваша электронная почта</label>
        <input type="email" id="email" name="email" placeholder="example@example.ru">
      </div>

      <!-- Сведения о втором родителе-->
           <h2 class="section-title">Сведения о втором родителе</h2>

           <!-- Имя 2-го родителя -->
           <div>
             <label class="required" for="p2FirstName">Имя второго родителя</label>
             <div class="grid-3">
               <div>
                 <input type="text" id="p2FirstName" name="p2FirstName" placeholder="Имя" required>
                 <small>Имя</small>
               </div>
               <div>
                 <input type="text" id="p2MiddleName" name="p2MiddleName" placeholder="Отчество">
                 <small>Отчество</small>
               </div>
               <div>
                 <input type="text" id="p2LastName" name="p2LastName" placeholder="Фамилия" required>
                 <small>Фамилия</small>
               </div>
             </div>
           </div>

           <!-- Дата рождения 2-го родителя -->
           <div>
             <label class="required" for="p2BirthDate">Дата рождения</label>
             <input type="date" id="p2BirthDate" name="p2BirthDate" placeholder="ДД.ММ.ГГГГ" required>
           </div>

           <!-- Место рождения 2-го родителя -->
           <div>
             <label class="required">Место рождения второго родителя</label>
             <div class="grid-3">
               <div>
                 <input type="text" id="p2City" name="p2City" placeholder="Город" required>
                 <small>Город</small>
               </div>
               <div>
                 <input type="text" id="p2Region" name="p2Region" placeholder="Область">
                 <small>Область</small>
               </div>
               <div>
                 <input type="text" id="p2Country" name="p2Country" placeholder="Страна" required>
                 <small>Страна</small>
               </div>
             </div>
           </div>

           <!-- Идентификатор 2-го родителя -->
           <fieldset>
             <legend>Идентификатор второго родителя</legend>

             <div class="radio-group">
               <label><input type="radio" name="p2IdType" value="snils" checked> СНИЛС</label>
               <label><input type="radio" name="p2IdType" value="inn"> ИНН</label>
               <label><input type="radio" name="p2IdType" value="passport"> серия и номер паспорта</label>
               <label><input type="radio" name="p2IdType" value="driver"> серия и номер водительского удостоверения</label>
               <label><input type="radio" name="p2IdType" value="none"> нет сведений</label>
             </div>

             <!-- СНИЛС -->
             <div id="p2snilsFields" class="p2-id-fields">
               <label for="p2Snils" class="required">СНИЛС второго родителя</label>
               <input type="text" id="p2Snils" name="p2Snils"
                      placeholder="000-000-000 00"
                      pattern="\d{3}-\d{3}-\d{3} \d{2}">
             </div>

             <!-- ИНН -->
             <div id="p2innFields" class="p2-id-fields" hidden>
               <label for="p2Inn" class="required">ИНН второго родителя</label>
               <input type="text" id="p2Inn" name="p2Inn"
                      placeholder="000000000000"
                      pattern="\d{10}|\d{12}">
             </div>

             <!-- Паспорт -->
             <div id="p2passportFields" class="p2-id-fields" hidden>
               <label for="p2Passport" class="required">Серия и номер паспорта второго родителя</label>
               <input type="text" id="p2Passport" name="p2Passport"
                      placeholder="0000 000000"
                      pattern="\d{4} \d{6}">
             </div>

             <!-- ВУ -->
             <div id="p2driverFields" class="p2-id-fields" hidden>
               <label for="p2Driver" class="required">Серия и номер ВУ второго родителя</label>
               <input type="text" id="p2Driver" name="p2Driver"
                      placeholder="00 00 000000"
                      pattern="\d{2} \d{2} \d{6}">
             </div>
           </fieldset>
           <!-- 1. Известен ли адрес? -->
               <fieldset>
                 <legend>Адрес второго родителя известен</legend>
                 <div class="radio-group">
                   <label><input type="radio" name="p2AddressKnown" value="yes" checked> Да</label>
                   <label><input type="radio" name="p2AddressKnown" value="no"> Нет</label>
                 </div>
               </fieldset>

               <!-- 2. Фактический адрес (показывается, если p2AddressKnown = yes) -->
               <div id="p2FactWrap" hidden>
                 <label class="required" for="p2FactStreet">Адрес фактического проживания второго родителя</label>

                 <div class="mb">
                   <input type="text" id="p2FactStreet" name="p2FactStreet" placeholder="Улица, дом, квартира">
                   <small>Улица, дом, квартира</small>
                 </div>

                 <div class="grid-3">
                   <div>
                     <input type="text" id="p2FactCity" name="p2FactCity" placeholder="Город">
                     <small>Город</small>
                   </div>
                   <div>
                     <input type="text" id="p2FactPostal" name="p2FactPostal" placeholder="Почтовый индекс">
                     <small>Почтовый индекс</small>
                   </div>
                   <div>
                       <input type="text" id="p2FactCountry" name="p2FactCountry" value="Россия" placeholder="Страна" required>
                       <small>Страна</small>
                   </div>
                 </div>

                 <!-- 2-а. Совпадает ли с регистрацией? -->
                 <fieldset>
                   <legend>Адрес фактического проживания совпадает с адресом регистрации</legend>
                   <div class="radio-group">
                     <label><input type="radio" name="p2Same" value="yes" checked> Да</label>
                     <label><input type="radio" name="p2Same" value="no"> Нет</label>
                   </div>

                   <!-- 2-б. Адрес регистрации (показывается, если p2Same = no) -->
                   <div id="p2RegWrap" class="address-fields" hidden>
                     <label class="required" for="p2RegStreet">Адрес регистрации второго родителя</label>

                     <div class="mb">
                       <input type="text" id="p2RegStreet" name="p2RegStreet" placeholder="Улица, дом, квартира">
                       <small>Улица, дом, квартира</small>
                     </div>

                     <div class="grid-3">
                       <div>
                         <input type="text" id="p2RegCity" name="p2RegCity" placeholder="Город">
                         <small>Город</small>
                       </div>
                       <div>
                         <input type="text" id="p2RegPostal" name="p2RegPostal" placeholder="Почтовый индекс">
                         <small>Почтовый индекс</small>
                       </div>
                       <div>
                           <input type="text" id="p2RegCountry" name="p2RegCountry" value="Россия" placeholder="Страна" required>
                           <small>Страна</small>
                       </div>
                     </div>
                   </div>
                 </fieldset>
               </div>
               
               <fieldset>
                 <legend>Сведения о месте работы и размере дохода второго родителя</legend>
                 <div class="radio-group">
                   <label><input type="radio" name="p2WorkInfo" value="both"  checked> Знаю место работы и доход</label>
                   <label><input type="radio" name="p2WorkInfo" value="work"> Знаю место работы, но не знаю доход</label>
                   <label><input type="radio" name="p2WorkInfo" value="income"> Знаю примерный размер дохода, но не знаю точное место работы</label>
                   <label><input type="radio" name="p2WorkInfo" value="none"> Не знаю ни место работы, ни размер дохода</label>
                 </div>
               </fieldset>
               
                 <!-- блок: места работы -->
                 <div id="workBlock">
                   <label class="required">Сведения о месте работы второго родителя</label>

                   <!-- ①  Сетка – тут ТОЛЬКО input-поля -->
                   <div id="workRows">
                     <input type="text" name="p2WorkName[]" placeholder="ООО &quot;Ромашка&quot;">
                     <input type="text" name="p2WorkInn[]"  placeholder="ИНН">
                   </div>             <!--  ← закрыли #workRows -->

                   <!-- ②  Кнопки теперь отдельным flex-контейнером под сеткой -->
                   <div class="btn-row">
                     <button type="button" id="addWorkRow">Добавить место работы</button>
                     <button type="button" id="removeWorkRow" class="btn-danger" hidden>Удалить</button>
                   </div>
                 </div>
                 
               <!-- блок: доход -->
               <div id="incomeBlock" class="address-fields">
                 <label class="required" for="p2Income">Размер дохода второго родителя</label>
                 <input type="text" id="p2Income" name="p2Income" placeholder="200 000">
                 <small>Укажите известный или предполагаемый размер дохода&nbsp;в месяц, руб.</small>
               </div>

               <!-- блок: доп сведения -->
               <div>
                   <label for="addInfo">
                     Дополнительные сведения о доходах
                     <span class="tooltip-wrap">
                       <span class="tooltip-icon">?</span>
                       <span class="tooltip-text">
                           Укажите любую дополнительную информацию, которая может иметь значение для расчета размера алиментов. Это могут быть:
                           <br>- сведения о наличии дополнительных доходов (например, от сдачи имущества в аренду, фриланса, подработок);
                           <br>- дивиденды от акций, долей в бизнесе или иных инвестициях;
                           <br>- премии, бонусы, компенсации и иные нерегулярные выплаты;
                           <br>- любые другие источники средств, которые могут рассматриваться как доход.
                       </span>
                     </span>
                   </label>
                   
                 <!-- минимум 4 строки, ширина 100 %, растягивается только вниз -->
                 <textarea id="addInfo"
                           name="addInfo"
                           rows="8"
                           placeholder="Второй родитель дополнительно получает доход от сдачи квартиры в аренду (20 000 руб. в месяц), а также дивиденды от владения акциями ПАО «Газпром» (примерно 45 000 руб. в год). Кроме того, получает ежеквартальные бонусы на основной работе, размер которых варьируется (в среднем 30 000 руб. в квартал). Известно также о наличии доли в ООО, сведения о доходах по которой отсутствуют, но есть основания полагать, что доход имеется."
                           style="width:100%; resize:vertical;"></textarea>

                 <small>Дополнительные доходы второго родителя. Если нет информации, поле можно оставить пустым.</small>
               </div>
               
               <!-- Контакты -->
               <div>
                 <label for="p2phone">Телефон второго родителя (если известен)</label>
                 <input type="tel" id="p2phone" name="p2phone" placeholder="+7(000) 000-00-00">
                 <small>Пожалуйста, введите действующий номер телефона.</small>
               </div>

               <div>
                 <label for="p2email">Электронная почта второго родителя (если известна)</label>
                 <input type="email" id="p2email" name="p2email" placeholder="example@example.ru">
               </div>

               
               <!-- ========  Сведения о детях  ======== -->
               <h2 class="section-title">Сведения о детях</h2>

               <!-- обёртка всего раздела -->
               <div id="kidsBlock">

                 <!-- счётчик -->
                 <div class="count-wrap">
                   <label class="required" for="kidsCount">Количество детей</label>
                   <input  type="number" id="kidsCount" name="kidsCount"
                           value="1" min="1" placeholder="1">
                   <small>Введите количество несовершеннолетних детей, для которых устанавливаются алименты</small>
                 </div>
                 
                 <!-- поле 'Сведения о ребёнке' (добавляем строки JS-ом) -->
                 <div id="kidsRows"></div>

                 <!-- кнопки -->
                 <div class="btn-row">
                   <button type="button" id="addKidRow">Добавить ребёнка</button>
                   <button type="button" id="removeKidRow" class="btn-danger" hidden>Удалить</button>
                 </div>
               </div>
               
               
               <!-- ========  Сведения о браке  ======== -->
               <h2 class="section-title">Сведения о браке</h2>
               <!-- Дата рождения заключения брака -->
               <div>
                 <label for="marriageDate">Дата заключения брака</label>
                 <input type="date" id="marriageDate" name="marriageDate" placeholder="ДД.ММ.ГГГГ">
               </div>
               <!-- Дата расторжения брака -->
               <div>
                 <label for="divorseDate">Дата расторжения брака (если был расторгнут)</label>
                 <input type="date" id="divorseDate" name="divorseDate" placeholder="ДД.ММ.ГГГГ">
               </div>
               
               <!-- ========  Дополнительные сведения  ======== -->
               <h2 class="section-title">Дополнительные сведения</h2>
               
               <fieldset>
                 <legend>
                   Ребенок живет с вами и находится на вашем содержании?
                   <span class="required"></span>
                   <span class="tooltip-wrap">
                     <span class="tooltip-icon">?</span>
                     <span class="tooltip-text">
                         Алименты взыскиваются в пользу того родителя, который фактически:
                         <br>- содержит ребёнка
                         <br>- несёт основные расходы
                         <br>- обеспечивает уход, питание, одежду и т.п.
                     </span>
                   </span>
                 </legend>
                 <div class="radio-group">
                   <label><input type="radio" name="kidLivesWithYou" value="yes" required> Да</label>
                   <label><input type="radio" name="kidLivesWithYou" value="no"> Нет</label>
                 </div>
               </fieldset>
               
               <!-- ======== Установление отцовства ======== -->
               <fieldset>
                 <legend>Нужно ли устанавливать отцовство?<span class="required"></span>
                     <span class="tooltip-wrap">
                       <span class="tooltip-icon">?</span>
                       <span class="tooltip-text">
                           Не нужно устанавливать отцовство, если:
                           <br>-отец записан в свидетельстве о рождении;
                           <br>-было заключено официальное признание отцовства (даже без брака);
                           <br>-родители были в браке на момент рождения ребёнка — в этом случае отцовство предполагается автоматически.
                       </span>
                     </span>
                   </legend>
                 <div class="radio-group">
                   <label><input type="radio" name="needEstablishedPaternity" value="yes" required> Да</label>
                   <label><input type="radio" name="needEstablishedPaternity" value="no"> Нет</label>
                 </div>
               </fieldset>
               
               <!-- ========  Другие дети второго родителя  ======== -->
               <fieldset>
                   <legend>Есть ли у второго родителя другие дети? <span class="required"></span>
                       <span class="tooltip-wrap">
                         <span class="tooltip-icon">?</span>
                         <span class="tooltip-text">
                             Сумма алиментов зависит от официального дохода родителя и количества детей:
                             <br>- на одного ребёнка — ¼ (25%) от дохода;
                             <br>- на двух детей — ⅓ (33%);
                             <br>- на трёх и более детей — ½ (50%).
                         </span>
                       </span>
                   </legend>

                 <div class="radio-group">
                   <label><input type="radio" name="otherKids" value="yes" required> Да</label>
                   <label><input type="radio" name="otherKids" value="no"> Нет</label>
                 </div>
               </fieldset>
               
               <!-- счётчик -->
               <div id="otherKidsWrap" class="count-wrap" style="display: none;">
                 <label for="otherKidsCount">Укажите количество других детей</label>
                 <input  type="number" id="otherKidsCount" name="otherKidsCount" value="0" min="0">
                 <small>Укажите других несовершеннолетних детей</small>
               </div>
               
               <div id="otherKidsAlimonyWrap" style="display: none;">
                 <fieldset>
                   <legend>Есть ли судебный акт или нотариальное соглашение об оплате алиментов в пользу иных детей?</legend>
                   <div class="radio-group">
                     <label><input type="radio" name="otherKidsAlimony" value="yes"> Да</label>
                     <label><input type="radio" name="otherKidsAlimony" value="no"> Нет</label>
                   </div>
                 </fieldset>
               </div>
               
               <!-- ========  Форма алиментов  ======== -->
               <fieldset>
                 <legend>Требуется ли установить алименты в твердой сумме?<span class="required"></span>
                     <span class="tooltip-wrap">
                       <span class="tooltip-icon">?</span>
                       <span class="tooltip-text">
                           По умолчанию алименты устанавливаются как процент от заработка, но могут быть взысканы в твердой денежной сумме или одновременно в долевом отношении к заработку и в твердой денежной сумме, если родитель:
                           <br>- имеет нерегулярный, меняющийся заработок, либо
                           <br>- получает доход полностью или частично в натуре или в иностранной валюте, либо
                           <br>- не имеет дохода, либо
                           <br>- получает доходы так, что взыскание алиментов в долевом отношении затруднительно, либо
                           <br>- является менее обеспеченным родителем по сравнению с другим и дети остались при каждом из родителей.
                           <br> Если нет серьезных препятствий для расчета алиментов как процента от заработка, лучше не требовать взыскания в твердой денежной сумме, это усложнит судебный процесс.
                       </span>
                     </span>
                 </legend>
                 <div class="radio-group">
                   <label><input type="radio" name="needFixAlimony" value="yes" required> Да</label>
                   <label><input type="radio" name="needFixAlimony" value="no"> Нет</label>
                 </div>
               </fieldset>
               
               <div id="fixAmountWrap" class="mb" hidden>
                 <label for="fixAmount">Желаемая сумма алиментов в месяц (в рублях)</label>
                 <input type="text" id="fixAmount" name="fixAmount" placeholder="например, 20 000">
                 <small>Если Вы хотите, чтобы суд сам определил сумму — оставьте поле пустым</small>
               </div>
               
               <!-- ========  Алименты за прошлое время  ======== -->
               <fieldset>
                 <legend>Требуется ли взыскать алименты за прошедшее время?
                     <span class="required"></span>
                     <span class="tooltip-wrap">
                       <span class="tooltip-icon">?</span>
                       <span class="tooltip-text">
                           Алименты назначаются с момента обращения в суд, а не с рождения ребенка или другого момента, когда возникло право на алименты.
                           <br>Можно получить алименты и за прошедшее время, но не более чем за 3 года до подачи иска, если есть доказательства, что вы просили помощи, а второй родитель уклонялся от уплаты.
                           <br>Что может быть доказательством:
                           <br>- переписка (сообщения, письма, email), где вы просили деньги;
                           <br>- письма, отправленные через нотариуса;
                           показания свидетелей;
                           <br>- другие документы, подтверждающие, что вы пытались получить алименты.
                       </span>
                     </span>
                   </legend>
                 <div class="radio-group">
                   <label><input type="radio" name="alimonyPastPeriod" value="yes" required> Да</label>
                   <label><input type="radio" name="alimonyPastPeriod" value="no"> Нет</label>
                 </div>
               </fieldset>
               
               <div id="pastDateWrap" class="mb" hidden>
                 <label class="required" for="alimonyFromDate">Дата, с которой необходимо взыскать алименты</label>
                 <input type="date" id="alimonyFromDate" name="alimonyFromDate" placeholder="ДД.ММ.ГГГГ">
                 <small>Укажите дату, с которой Вы хотите взыскать алименты. Не ранее 3 лет до обращения в суд.</small>
               </div>
               
               <!-- ======== Судебный приказ ======== -->
               <fieldset>
                 <legend>Судебный приказ на взыскание алиментов уже был, но он отменен<span class="required"></span>
                     <span class="tooltip-wrap">
                       <span class="tooltip-icon">?</span>
                       <span class="tooltip-text">
                           Если судебных разбирательств по алиментов еще не было - просто выберете "Нет".
                           Если судебный приказ на взыскание алиментов был отменен в связи с поступлением от должника возражений относительно его исполнения, мы подготовим исковое заявление о взыскании алиментов.
                       </span>
                     </span>
                   </legend>
                 <div class="radio-group">
                   <label><input type="radio" name="courtOrderHasCancelled" value="yes" required> Да</label>
                   <label><input type="radio" name="courtOrderHasCancelled" value="no"> Нет</label>
                 </div>
               </fieldset>
               
               
               <!-- ======== Дело в отсутствие сторон ======== -->
               <fieldset>
                 <legend>Хотели бы вы, чтобы дело рассматривалось без вашего личного участия?<span class="required"></span>
                     <span class="tooltip-wrap">
                       <span class="tooltip-icon">?</span>
                       <span class="tooltip-text">
                           <br>Если вы не хотите лично присутствовать в суде, мы подготовим ходатайство о рассмотрении дела в ваше отсутствие. В этом случае суд рассмотрит дело на основании ваших документов и требований.
                           <br>Это удобно, если у вас нет возможности или желания приходить в суд.
                           <br>Важно знать:
                           <br>- Суд может удовлетворить ваше ходатайство и рассмотреть дело без вас.
                           <br>- Но если суд сочтёт ваше участие необходимым (например, для уточнения требований), он может назначить дату заседания с обязательной явкой.
                           <br>- Всегда есть риск, что без личного участия некоторые моменты будут не учтены или истолкованы не в вашу пользу.
                           <br>- Вы не сможете возразить или опровергнуть какие-то доводы или представленные ответчиком доказательства и не сможете в следующих инстанциях заявить возражения в отношении установленных судом фактов.
                       </span>
                     </span>
                   </legend>
                 <div class="radio-group">
                   <label><input type="radio" name="withoutPersonalPresence" value="yes" required> Да</label>
                   <label><input type="radio" name="withoutPersonalPresence" value="no"> Нет</label>
                 </div>
               </fieldset>
               
               <!-- ======================  К Н О П К А  ====================== -->               
               <button id="submitButton" type="submit">
                 <span class="button-text">Отправить</span>
                 <span class="loader" style="display: none;">Загрузка...</span>
               </button>
               
               
             </form>
           </main>

           <script>
             /* ---------- 1. идентификатор заявителя ---------- */
             const idRadios=document.querySelectorAll('input[name="idType"]');
             const idGroups=document.querySelectorAll('.id-fields');
             function toggleIdFields(){
               idGroups.forEach(g=>g.hidden=true);
               const active=document.querySelector('input[name="idType"]:checked');
               if(active)document.getElementById(active.value+'Fields').hidden=false;
             }
             idRadios.forEach(r=>r.addEventListener('change',toggleIdFields));
             toggleIdFields();

             /* ---------- 2. идентификатор второго родителя ---------- */
             const p2Radios=document.querySelectorAll('input[name="p2IdType"]');
             const p2Groups=document.querySelectorAll('.p2-id-fields');
             function toggleP2IdFields(){
               p2Groups.forEach(g=>g.hidden=true);
               const active=document.querySelector('input[name="p2IdType"]:checked');
               if(!active||active.value==='none')return;
               document.getElementById('p2'+active.value+'Fields').hidden=false;
             }
             p2Radios.forEach(r=>r.addEventListener('change',toggleP2IdFields));
             toggleP2IdFields();
             
             // 2-а. Форматирование: СНИЛС
               function formatSnils(value) {
                 const digits = value.replace(/\D/g, '').slice(0, 11);
                 let result = '';
                 if (digits.length > 0) result += digits.slice(0, 3);
                 if (digits.length > 3) result += '-' + digits.slice(3, 6);
                 if (digits.length > 6) result += '-' + digits.slice(6, 9);
                 if (digits.length > 9) result += ' ' + digits.slice(9, 11);
                 return result;
               }

               // Форматирование: ИНН
               function formatInn(value) {
                 return value.replace(/\D/g, '').slice(0, 12);
               }

               // Форматирование: Паспорт
               function formatPassport(value) {
                 const digits = value.replace(/\D/g, '').slice(0, 10);
                 let result = '';
                 if (digits.length > 0) result += digits.slice(0, 4);
                 if (digits.length > 4) result += ' ' + digits.slice(4, 10);
                 return result;
               }

               // Форматирование: ВУ
               function formatDriver(value) {
                 const digits = value.replace(/\D/g, '').slice(0, 10);
                 let result = '';
                 if (digits.length > 0) result += digits.slice(0, 2);
                 if (digits.length > 2) result += ' ' + digits.slice(2, 4);
                 if (digits.length > 4) result += ' ' + digits.slice(4, 10);
                 return result;
               }

               // Привязка поля к формату
               function attachFormatter(inputId, formatter) {
                 const el = document.getElementById(inputId);
                 if (el) {
                   el.addEventListener('input', (e) => {
                     e.target.value = formatter(e.target.value);
                   });
                 }
               }

               // Заявитель
               attachFormatter('snils', formatSnils);
               attachFormatter('inn', formatInn);
               attachFormatter('passport', formatPassport);
               attachFormatter('driver', formatDriver);

               // Второй родитель
               attachFormatter('p2Snils', formatSnils);
               attachFormatter('p2Inn', formatInn);
               attachFormatter('p2Passport', formatPassport);
               attachFormatter('p2Driver', formatDriver);

               /* 2-б. формат телефона  */

               function formatPhone(value) {
                   const digits = value.replace(/\D/g, '').replace(/^8/, '7').slice(0, 11);
                   let result = '+7';
                   if (digits.length > 1) result += '(' + digits.slice(1, 4);
                   if (digits.length >= 4) result += ') ' + digits.slice(4, 7);
                   if (digits.length >= 7) result += '-' + digits.slice(7, 9);
                   if (digits.length >= 9) result += '-' + digits.slice(9, 11);
                   return result;
                 }

                 // Заявитель
                 const phoneInput = document.getElementById('phone');
                 phoneInput?.addEventListener('input', (e) => {
                   e.target.value = formatPhone(e.target.value);
                 });

                 // Второй родитель
                 const p2PhoneInput = document.getElementById('p2phone');
                 p2PhoneInput?.addEventListener('input', (e) => {
                   e.target.value = formatPhone(e.target.value);
                 });
               
               /* 2-в. формат индекса  */

               function formatPostal(value) {
                   return value.replace(/\D/g, '').slice(0, 6); // только цифры, не больше 6
                 }

                 const postalInputs = [
                   'regPostal',
                   'factPostal',
                   'p2RegPostal',
                   'p2FactPostal'
                 ];

                 postalInputs.forEach(id => {
                   const input = document.getElementById(id);
                   if (input) {
                     input.addEventListener('input', (e) => {
                       e.target.value = formatPostal(e.target.value);
                     });
                   }
                 });
               
             /* ---------- 3. адрес заявителя (у вас уже был) ---------- */
             const addrRadios=document.querySelectorAll('input[name="sameAddress"]');
             const factBlock=document.getElementById('factAddress');
             function toggleAddress(){
               const isSame=document.querySelector('input[name="sameAddress"]:checked').value==='yes';
               factBlock.hidden=isSame;
             }
             addrRadios.forEach(r=>r.addEventListener('change',toggleAddress));
             toggleAddress();

             /* ---------- 4. адрес второго родителя ---------- */
             const p2KnownRadios=document.querySelectorAll('input[name="p2AddressKnown"]');
             const p2FactWrap=document.getElementById('p2FactWrap');
             function toggleP2Known(){
               const known=document.querySelector('input[name="p2AddressKnown"]:checked').value==='yes';
               p2FactWrap.hidden=!known;
             }
             p2KnownRadios.forEach(r=>r.addEventListener('change',toggleP2Known));
             toggleP2Known();

             /* 4-а. совпадение фактического и регистрационного для второго родителя */
             const p2SameRadios=document.querySelectorAll('input[name="p2Same"]');
             const p2RegWrap=document.getElementById('p2RegWrap');
             function toggleP2Same(){
               const same=document.querySelector('input[name="p2Same"]:checked').value==='yes';
               p2RegWrap.hidden=same;
             }
             p2SameRadios.forEach(r=>r.addEventListener('change',toggleP2Same));
             toggleP2Same();
             
             /* ---------- 5. место работы / доход второго родителя ---------- */
             const workInfoRadios = document.querySelectorAll('input[name="p2WorkInfo"]');
             const workBlock      = document.getElementById('workBlock');
             const incomeBlock    = document.getElementById('incomeBlock');

             function toggleWorkIncome(){
               const v = document.querySelector('input[name="p2WorkInfo"]:checked').value;
               workBlock.hidden   = (v === 'income' || v === 'none');
               incomeBlock.hidden = (v === 'work'   || v === 'none');
             }
             workInfoRadios.forEach(r => r.addEventListener('change', toggleWorkIncome));
             toggleWorkIncome();

             /* ---------- 5-a. добавить / удалить строку «место-ИНН» ---------- */
             const workRows   = document.getElementById('workRows');
             const addBtn     = document.getElementById('addWorkRow');
             const removeBtn  = document.getElementById('removeWorkRow');

             const initialPairs = workRows.childElementCount / 2;   // сколько пар было при загрузке

             function updateRemoveVisibility(){
               const pairs = workRows.childElementCount / 2;
               removeBtn.hidden = pairs <= initialPairs;
             }

             /* добавить строку */
             addBtn.addEventListener('click', () => {
               const name = document.createElement('input');
               name.type        = 'text';
               name.name        = 'p2WorkName[]';
               name.placeholder = 'ООО "Ромашка"';

               const inn  = document.createElement('input');
               inn.type        = 'text';
               inn.name        = 'p2WorkInn[]';
               inn.placeholder = 'ИНН';

               workRows.append(name, inn);   // сетка отправит их в новую строку
               updateRemoveVisibility();
             });

             /* удалить последнюю добавленную строку */
             removeBtn.addEventListener('click', () => {
               const pairs = workRows.childElementCount / 2;
               if (pairs > initialPairs) {
                 workRows.removeChild(workRows.lastElementChild);   // удаляем ИНН
                 workRows.removeChild(workRows.lastElementChild);   // удаляем место
                 updateRemoveVisibility();
               }
             });

             updateRemoveVisibility();  // первичная инициализация
             
             // Ограничение ввода: только цифры, максимум 10 символов
             workRows.addEventListener('input', function(event) {
               const input = event.target;
               if (input.name === 'p2WorkInn[]') {
                 input.value = input.value.replace(/\D/g, '').slice(0, 10);
               }
             });
               
             /* ---------- 6. авто-подгон высоты textarea ---------- */
             (function(){
               const ta = document.getElementById('addInfo');

               function fit(el){
                 el.style.height = 'auto';          // сбрасываем
                 el.style.height = el.scrollHeight + 'px';
               }

               fit(ta);                             // плейсхолдер на старте
               ta.addEventListener('input', () => fit(ta));
             })();
               
               /* ---------- 7. сведения о детях ---------- */
               const kidsRows     = document.getElementById('kidsRows');
               const addKidBtn    = document.getElementById('addKidRow');
               const removeKidBtn = document.getElementById('removeKidRow');
               const kidsCountInp = document.getElementById('kidsCount');

               /* создаём DOM-блок из 5 полей (2 строки) */
               function createKidRow(){
                 const row = document.createElement('div');
                 row.className = 'kid-row';

                 /* первая строка: Имя / Отчество / Фамилия */
                 const line1 = document.createElement('div');
                 line1.className = 'grid-3';
                 line1.append(
                   Object.assign(document.createElement('input'), {type:'text', name:'kidFirstName[]',  placeholder:'Имя'}),
                   Object.assign(document.createElement('input'), {type:'text', name:'kidMiddleName[]', placeholder:'Отчество'}),
                   Object.assign(document.createElement('input'), {type:'text', name:'kidLastName[]',   placeholder:'Фамилия'})
                 );

                 /* вторая строка: Дата рождения / Свидетельство */
                 const line2 = document.createElement('div');
                 line2.className = 'grid-2';
                 line2.append(
                   Object.assign(document.createElement('input'), {type:'date', name:'kidBirthDate[]', placeholder:'ДД-ММ-ГГГГ'}),
                   Object.assign(document.createElement('input'), {type:'text', name:'kidCert[]',      placeholder:'Введите номер свидетельства'})
                 );

                 row.append(line1, line2);
                 return row;
               }

               function updateKidsUI(){
                 const n = kidsRows.childElementCount;   // 1 kid-row = 1 ребёнок
                 kidsCountInp.value = n;
                 removeKidBtn.hidden = n <= 1;           // «Удалить» прячем, когда один
               }

               /* добавить ребёнка */
               function addKid(){
                 kidsRows.appendChild(createKidRow());
                 updateKidsUI();
               }

               /* удалить последнего ребёнка */
               function removeKid(){
                 if (kidsRows.childElementCount > 1){
                   kidsRows.removeChild(kidsRows.lastElementChild);
                   updateKidsUI();
                 }
               }

               addKidBtn   .addEventListener('click', addKid);
               removeKidBtn.addEventListener('click', removeKid);

               /* инициализация: сразу один ребёнок */
               addKid();
               
               /* ---------- 8. другие дети второго родителя ---------- */
               document.addEventListener('DOMContentLoaded', () => {
                 const otherKidsRadios = document.querySelectorAll('input[name="otherKids"]');
                 const otherKidsWrap   = document.getElementById('otherKidsWrap');
                 const otherKidsAlimonyWrap = document.getElementById('otherKidsAlimonyWrap');

                 function toggleOtherKids() {
                   const checked = document.querySelector('input[name="otherKids"]:checked');

                   // Если не выбрано — обязательно скрыть
                   if (!checked) {
                     otherKidsWrap.style.display = 'none';
                     otherKidsAlimonyWrap.style.display = 'none';
                     return;
                   }

                   const show = checked.value === 'yes';
                   otherKidsWrap.style.display = show ? 'block' : 'none';
                   otherKidsAlimonyWrap.style.display = show ? 'block' : 'none';
                 }

                 otherKidsRadios.forEach(r => r.addEventListener('change', toggleOtherKids));
                 toggleOtherKids(); // инициализация после DOM готов
               });
               
             
             /* ---------- 9. алименты за прошлоее время ---------- */
             document.addEventListener('DOMContentLoaded', () => {
                 const radios = document.querySelectorAll('input[name="alimonyPastPeriod"]');
                 const dateWrap = document.getElementById('pastDateWrap');

                 function togglePastDate() {
                     const isYes = document.querySelector('input[name="alimonyPastPeriod"]:checked')?.value === 'yes';
                     dateWrap.hidden = !isYes;
                }

                 radios.forEach(r => r.addEventListener('change', togglePastDate));
                 togglePastDate(); // инициализация на старте
             });
               /* ---------- 10. алименты в твердой форме ---------- */

               document.addEventListener('DOMContentLoaded', () => {
                 const fixRadios = document.querySelectorAll('input[name="needFixAlimony"]');
                 const fixWrap   = document.getElementById('fixAmountWrap');

                 function toggleFixAmount() {
                   const isYes = document.querySelector('input[name="needFixAlimony"]:checked')?.value === 'yes';
                   fixWrap.hidden = !isYes;
                 }

                 fixRadios.forEach(r => r.addEventListener('change', toggleFixAmount));
                 toggleFixAmount(); // начальная инициализация
               });
               /* ---------- 11. Устанавливаем сегодняшнюю дату в формате YYYY-MM-DD---------- */

               function isMobileDevice() {
                   return /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
                 }

                 // Установить сегодняшнюю дату в поле по ID
                 function setToday(id) {
                   const input = document.getElementById(id);
                   if (!input) return;

                   const today = new Date();
                   const yyyy = today.getFullYear();
                   const mm = String(today.getMonth() + 1).padStart(2, '0');
                   const dd = String(today.getDate()).padStart(2, '0');

                   input.value = `${yyyy}-${mm}-${dd}`;
                 }

                 // Вызов при загрузке
                 document.addEventListener('DOMContentLoaded', () => {
                   if (isMobileDevice()) {
                     // Укажи только те поля, где это уместно:
                     setToday('alimonyFromDate');
                     setToday('marriageDate');
                     // setToday('birthDate');       ← осторожно, дата рождения не должна быть сегодняшней!
                     // setToday('p2BirthDate');
                   }
                 });

           </script>
         </script>
         <script>
           document.getElementById('alimonyForm').addEventListener('submit', function(e) {
             e.preventDefault();

             const form = e.target;
             const submitButton = document.getElementById('submitButton');
             const buttonText = submitButton.querySelector('.button-text');
             const loader = submitButton.querySelector('.loader');

             // Блокировка кнопки и отображение загрузки
             submitButton.disabled = true;
             buttonText.style.display = 'none';
             loader.style.display = 'inline';

             const formData = new FormData(form);
             const data = {};

             for (const [key, value] of formData.entries()) {
               if (data[key]) {
                 if (!Array.isArray(data[key])) data[key] = [data[key]];
                 data[key].push(value);
               } else {
                 data[key] = value;
               }
             }

             fetch('https://alimonyserver.onrender.com/submit-alimony', {
               method: 'POST',
               body: JSON.stringify(data),
               headers: { 'Content-Type': 'application/json' }
             })
             .then(response => response.json())
             .then(result => {
               console.log('Ответ сервера:', result);
               alert('Форма успешно отправлена!');
             })
             .catch(error => {
               console.error('Ошибка при отправке:', error);
               alert('Произошла ошибка при отправке данных.');
             })
             .finally(() => {
               // Возвращаем кнопку в исходное состояние
               submitButton.disabled = false;
               buttonText.style.display = 'inline';
               loader.style.display = 'none';
             });
           });
         </script>
         </body>
         </html>
